<!-- INSTRUCTIONS: https://tiffwu.github.io/search-bar -->

<html>
  <head>
    <style>
      /***** Write CSS here *****/
    </style>
  </head>
  <body>
    <!-- --- Write HTML here --- -->
    <script>
      /***** Write JS here *****/



































      //////////////////////////////////////////////
      //////////////////////////////////////////////
      //////////////////////////////////////////////
      //////////////////////////////////////////////
      //////////////////////////////////////////////
      //////////////////////////////////////////////
      //////////////////////////////////////////////
      //////////////////////////////////////////////
      //////////////////////////////////////////////

      function api(method, path, data) {
        const API_MAP = {
          roles: {
            get: [
              { title: 'Software Engineer', id: 1, parentId: null },
              { title: 'Mobile Developer', id: 4, parentId: 1 },
              { title: 'Full-Stack Developer', id: 5, parentId: 1 },
              { title: 'Engineering Manager', id: 6, parentId: 1 },
              { title: 'DevOps', id: 7, parentId: 1 },
              { title: 'Designer', id: 2, parentId: null },
              { title: 'UI/UX Designer', id: 8, parentId: 2 },
              { title: 'User Researcher', id: 9, parentId: 2 },
              { title: 'Sales', id: 3, parentId: null },
              { title: 'Business Development', id: 11, parentId: 3 },
              { title: 'Account Executive', id: 12, parentId: 3 }
            ]
          },
          search: {
            post: (data) => alert(JSON.stringify(data))
          }
        };

        return new Promise((resolve, reject) => {
          const cleansedMethod = method.toLowerCase();
          const cleansedPath = path.replace('/', '').toLowerCase();

          const result = API_MAP[cleansedPath] && API_MAP[cleansedPath][cleansedMethod];

          if (!result) {
            return reject(new Error(`Could not ${method} ${path}`));
          }
          if (randomNumber(1, 5) === 1) {
            return reject(new Error('There was a random error with your request'));
          }
          if (typeof result === 'function') {
            return resolve(result(data));
          }

          resolve(result);
        });
      }

      // min and max are inclusive
      function randomNumber(min, max) {
        min = Math.ceil(min);
        max = Math.floor(max);
        return Math.floor(Math.random() * (max - min + 1)) + min;
      }
    </script>
  </body>
</html>
